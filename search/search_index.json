{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce \ud83d\udc4f","title":"\u4e3b\u9875"},{"location":"#\u6b22\u8fce-","text":"","title":"\u6b22\u8fce \ud83d\udc4f"},{"location":"android/data-storage/storage-access-framework/","text":"Storage Access Framework \u672c\u6587\u4e0d\u4f1a\u4ecb\u7ecd\u5982\u4f55\u8fdb\u884c\u6587\u4ef6\u64cd\u4f5c\uff0c\u53ea\u4f1a\u4ecb\u7ecd\u5982\u4f55\u62ff\u5230\u6587\u4ef6\u6216\u8005\u6587\u4ef6\u5939\u7684 uri\uff0c\u540e\u7eed\u8bf7\u53c2\u8003 \u901a\u8fc7 uri \u6765\u64cd\u4f5c\u6587\u4ef6 \u4f7f\u7528\u573a\u666f \u9700\u8981\u4fdd\u5b58\u975e\u79c1\u5bc6\u6587\u6863\u6570\u636e\uff08\u800c\u975e\u5a92\u4f53\u6587\u4ef6\uff09\u5230\u624b\u673a\u4e0a\uff0c\u5e76\u4e14\u5e0c\u671b\u6570\u636e\u5728\u8f6f\u4ef6\u5378\u8f7d\u4e4b\u540e\u4ecd\u7136\u5b58\u5728\u3002 \u662f\u5426\u9700\u8981\u7533\u8bf7\u6743\u9650 \u4e0d\u9700\u8981\u3002\u56e0\u4e3a\u786e\u5b9a\u8bfb\u5199\u7684\u6587\u4ef6\u4f4d\u7f6e\u90fd\u662f\u7528\u6237\u81ea\u5df1\u9009\u5b9a\u7684\uff0c\u7cfb\u7edf\u6388\u4e88\u5bf9\u5e94\u90e8\u5206\u7684\u8bbf\u95ee\u6743\u9650\u3002 \u5176\u5b83\u7a0b\u5e8f\u662f\u5426\u53ef\u4ee5\u8bbf\u95ee \u53ef\u4ee5\uff0c\u901a\u8fc7 SAF \u6216\u8005\u7a0b\u5e8f\u672c\u8eab\u62e5\u6709\u6587\u4ef6\u8bbf\u95ee\u6743\u9650 \u521b\u5efa\u6587\u4ef6 \u4f7f\u7528 Activity result API \uff0c\u9009\u62e9 CreateDocument \u8fd9\u4e2a\u534f\u8bae\uff08\u5bf9\u5e94 ACTION_CREATE_DOCUMENT\uff09\u3002 \u5728 launch \u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u9884\u7f6e\u7684\u6587\u4ef6\u540d\u79f0\uff0c\u7528\u6237\u53ef\u4ee5\u7a0d\u540e\u81ea\u7531\u4fee\u6539\u3002 \u5982\u679c\u5b58\u5728\u540c\u540d\u6587\u4ef6\uff0c\u4e0d\u4f1a\u8986\u76d6\u5df2\u6709\u7684\u6587\u4ef6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u6dfb\u52a0\u6570\u5b57\u540e\u7f00\u3002 \u5728 onResult \u7684\u56de\u8c03\u4e2d\u6211\u4eec\u53ef\u4ee5\u62ff\u5230\u7528\u6237\u9009\u62e9\u7684 uri\u3002 \u8bf7\u6ce8\u610f\u53ef\u80fd\u4e3a\u7a7a\uff0c\u56e0\u4e3a\u7528\u6237\u53ef\u80fd\u53d6\u6d88\u4e86\u9009\u62e9\u7684\u64cd\u4f5c\u3002\u4e4b\u540e\u6211\u4eec\u53ef\u4ee5\u5bf9\u8be5 uri \u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002 \u6b64\u5916\uff0c\u4f60\u53ef\u4ee5 \u91cd\u5199\u534f\u8bae\u7684 createIntent \u65b9\u6cd5 \uff0c\u901a\u8fc7\u8bbe\u7f6e type \u6307\u5b9a\u521b\u5efa\u6587\u4ef6\u7684 MIME \u7c7b\u578b\uff0c\u6216\u8005\u662f\u6307\u5b9a EXTRA_INITIAL_URI \u6765\u6253\u5f00\u6587\u4ef6\u9009\u62e9\u5668\u65f6\u663e\u793a\u7684\u6587\u4ef6\u8def\u5f84\u7684 uri\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u7684 uri \u9700\u8981\u662f \u7ecf\u8fc7\u6388\u6743\u7684\u6587\u4ef6\u5939\u8def\u5f84 \u3002 type = \"application/json\" if ( Build . VERSION . SDK_INT >= Build . VERSION_CODES . O ) { putExtra ( DocumentsContract . EXTRA_INITIAL_URI , uri ) } \u6253\u5f00\u6587\u4ef6 \u540c\u4e0a\uff0c\u5c06\u534f\u8bae\u6539\u4e3a OpenDocument\uff08\u5bf9\u5e94\u7684 intent action \u4e3a ACTION_OPEN_DOCUMENT\uff09\u3002 launch \u51fd\u6570\u4e2d\u6211\u4eec\u4f20\u9012\u5b57\u7b26\u4e32\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\uff0c\u5b57\u7b26\u4e32\u4e3a\u6211\u4eec\u9650\u5236\u7528\u6237\u53ef\u4ee5\u9009\u62e9\u7684 mime \u7c7b\u578b\u3002 \u62ff\u5230 uri\uff0c\u5224\u7a7a\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002 \u6211\u4eec\u540c\u6837\u7684\u4e5f\u53ef\u4ee5\u901a\u8fc7 EXTRA_INITIAL_URI \u6765\u8bbe\u7f6e\u6587\u4ef6\u9009\u62e9\u5668\u6253\u5f00\u65f6\u7684\u521d\u59cb\u76ee\u5f55\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7528\u6237\u65e0\u6cd5\u901a\u8fc7\u6587\u4ef6\u9009\u62e9\u5668\u6253\u5f00 Android/data/ \u548c Android/obb/ \u76ee\u5f55\u4ee5\u53ca\u5176\u5b50\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u3002 \u83b7\u53d6\u6587\u4ef6\u5939\u7684\u8bfb\u5199\u6743\u9650 \u901a\u8fc7\u7528\u6237\u9009\u62e9\uff0c\u7a0b\u5e8f\u53ef\u4ee5\u83b7\u5f97\u67d0\u4e2a\u4eba\u6587\u4ef6\u5939\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u7a0b\u5e8f\u65e0\u6cd5\u8bbf\u95ee\u9664\u6b64\u4e4b\u5916\u7684\u6587\u4ef6\u3002 \u4f7f\u7528 OpenDocumentTree \u534f\u8bae\u6765\u9009\u62e9\u6587\u4ef6\u5939\uff08\u5bf9\u5e94 ACTION_OPEN_DOCUMENT_TREE\uff09\u3002 launch \u51fd\u6570\u53ef\u4ee5\u4f20\u9012\u6307\u5b9a\u6587\u4ef6\u9009\u62e9\u5668\u7684\u8d77\u59cb\u4f4d\u7f6e\u7684 uri\u3002 \u62ff\u5230\u53ef\u4ee5\u8bbf\u95ee\u7684\u6587\u4ef6\u5939\u7684 uri\uff0c\u5224\u7a7a\u3002 \u9664\u4e86\u524d\u9762\u63d0\u5230\u7684\u76ee\u5f55\uff0c\u7528\u6237\u4e5f\u4e0d\u53ef\u4ee5\u9009\u62e9\u5b58\u50a8\u7684\u6839\u76ee\u5f55\uff0c\u4e0b\u8f7d\u76ee\u5f55 \u7b49\u6587\u4ef6\u5939 \u3002 \u83b7\u53d6\u6c38\u4e45\u6743\u9650 \u4e0a\u4e2a\u6b65\u9aa4\u4e2d\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9\u62ff\u5230\u6388\u6743\u7684\u6587\u4ef6\u5939\u5185\u7684\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff0c\u4f46\u662f\u7528\u6237\u8bbe\u5907\u91cd\u542f\u4e4b\u540e\u6211\u4eec\u5c06\u5931\u53bb\u8be5\u6587\u4ef6\u5939\u8bbf\u95ee\u6743\u9650\u3002 \u6211\u4eec\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u7684\u65b9\u6cd5\u6765\u83b7\u53d6\u6c38\u4e45\u7684\u8bbf\u95ee\u6743\u9650\u3002 \u4f46\u662f\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u7528\u6237\u624b\u52a8\u5220\u9664\u6216\u8005\u79fb\u52a8\u4e86\u8be5\u6587\u4ef6\u5939\u7684\u8bdd\uff0c\u7a0b\u5e8f\u8fd8\u662f\u4f1a\u5931\u53bb\u8bbf\u95ee\u6743\u9650\u3002 val takeFlags = Intent . FLAG_GRANT_READ_URI_PERMISSION or Intent . FLAG_GRANT_WRITE_URI_PERMISSION context . contentResolver . takePersistableUriPermission ( uri , takeFlags ) \u6b64\u5916\uff0c\u4f60\u5e94\u8be5\u9700\u8981\u4fdd\u5b58\u4e0b uri \u7684\u503c\uff0c\u4ee5\u4fbf\u4ee5\u540e\u8fdb\u884c\u6587\u4ef6\u64cd\u4f5c\u3002\u800c\u5982\u4e0b\u7684\u64cd\u4f5c\u53ef\u4ee5\u83b7\u53d6\u4fbf\u4e8e\u5c55\u793a\u7684\u6587\u4ef6\u76ee\u5f55\u3002 uri . lastPathSegment ?. removePrefix ( \"primary:\" ) \u5728\u88ab\u6388\u6743\u7684\u6587\u4ef6\u5939\u4e0b\u8fdb\u884c\u64cd\u4f5c \u9996\u5148\u9700\u8981\u6dfb\u52a0\u4f9d\u8d56\uff0c implementation \"androidx.documentfile:documentfile:1.0.1\" \u83b7\u53d6\u5f53\u524d\u6839\u76ee\u5f55 val home = DocumentFile . fromTreeUri ( context , Uri . parse ( uriString )) \u5224\u65ad\u76ee\u5f55\u4e0b\u6709\u65e0\u5bf9\u5e94\u6587\u4ef6 home ?. findFile ( displayName ) \u53c2\u6570\u4e3a\u6587\u4ef6\u540d\uff08\u542b\u540e\u7f00\uff09\uff0c\u5982\u679c\u5b58\u5728\u5219\u8fd4\u56de DocumentFile\uff0c\u5426\u5219\u4e3a\u7a7a\u3002\u901a\u8fc7 getUri \u51fd\u6570\u83b7\u53d6\u5230 uri \u540e\u5c31\u53ef\u4ee5\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u4e86\u3002 \u521b\u5efa\u65b0\u7684\u6587\u4ef6 home ?. createFile ( mimeType , displayName ) \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u6587\u4ef6\u7684 mime \u7c7b\u578b\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u6587\u4ef6\u540d\uff08\u4e0d\u542b\u540e\u7f00\uff09\u3002 \u8fd8\u6709\u5176\u5b83\u7684\u51fd\u6570\u53ef\u7528\uff0c\u53c2\u8003\u6587\u6863\u5373\u53ef\u3002 \u4e00\u4e9b\u5751 \u5f53\u4f60\u901a\u8fc7 documentFile \u6267\u884c\u5220\u9664\u64cd\u4f5c\u4e4b\u540e\uff0c\u5c31\u65e0\u6cd5\u901a\u8fc7\u5b83\u7684 uri \u6765\u8fdb\u884c\u6587\u4ef6\u64cd\u4f5c\u4e86\uff0c\u4f1a\u62a5\u9519\u3002 \u56e0\u4e3a\u6b64\u65f6\u7cfb\u7edf\u65e0\u6cd5\u5224\u65ad\u8be5 uri \u662f\u5426\u4f4d\u4e8e\u4f60\u53ef\u4ee5\u8fdb\u884c\u64cd\u4f5c\u7684\u76ee\u5f55\u4e0b\uff0c\u5c3d\u7ba1\u5b83\u5b9e\u9645\u4e0a\u662f\u7684\u3002 \u8fd9\u91cc\u548c\u83b7\u53d6\u6587\u4ef6\u5939\u6743\u9650\u540e\uff0c\u6587\u4ef6\u5939\u7684\u66f4\u6539\u4f1a\u5bfc\u81f4\u6743\u9650\u4e22\u5931\u7684\u60c5\u51b5\u662f\u4e00\u81f4\u7684\u3002","title":"\u6587\u6863\u548c\u5176\u5b83\u6587\u4ef6"},{"location":"android/data-storage/storage-access-framework/#storage-access-framework","text":"\u672c\u6587\u4e0d\u4f1a\u4ecb\u7ecd\u5982\u4f55\u8fdb\u884c\u6587\u4ef6\u64cd\u4f5c\uff0c\u53ea\u4f1a\u4ecb\u7ecd\u5982\u4f55\u62ff\u5230\u6587\u4ef6\u6216\u8005\u6587\u4ef6\u5939\u7684 uri\uff0c\u540e\u7eed\u8bf7\u53c2\u8003 \u901a\u8fc7 uri \u6765\u64cd\u4f5c\u6587\u4ef6 \u4f7f\u7528\u573a\u666f \u9700\u8981\u4fdd\u5b58\u975e\u79c1\u5bc6\u6587\u6863\u6570\u636e\uff08\u800c\u975e\u5a92\u4f53\u6587\u4ef6\uff09\u5230\u624b\u673a\u4e0a\uff0c\u5e76\u4e14\u5e0c\u671b\u6570\u636e\u5728\u8f6f\u4ef6\u5378\u8f7d\u4e4b\u540e\u4ecd\u7136\u5b58\u5728\u3002 \u662f\u5426\u9700\u8981\u7533\u8bf7\u6743\u9650 \u4e0d\u9700\u8981\u3002\u56e0\u4e3a\u786e\u5b9a\u8bfb\u5199\u7684\u6587\u4ef6\u4f4d\u7f6e\u90fd\u662f\u7528\u6237\u81ea\u5df1\u9009\u5b9a\u7684\uff0c\u7cfb\u7edf\u6388\u4e88\u5bf9\u5e94\u90e8\u5206\u7684\u8bbf\u95ee\u6743\u9650\u3002 \u5176\u5b83\u7a0b\u5e8f\u662f\u5426\u53ef\u4ee5\u8bbf\u95ee \u53ef\u4ee5\uff0c\u901a\u8fc7 SAF \u6216\u8005\u7a0b\u5e8f\u672c\u8eab\u62e5\u6709\u6587\u4ef6\u8bbf\u95ee\u6743\u9650","title":"Storage Access Framework"},{"location":"android/data-storage/storage-access-framework/#\u521b\u5efa\u6587\u4ef6","text":"\u4f7f\u7528 Activity result API \uff0c\u9009\u62e9 CreateDocument \u8fd9\u4e2a\u534f\u8bae\uff08\u5bf9\u5e94 ACTION_CREATE_DOCUMENT\uff09\u3002 \u5728 launch \u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u9884\u7f6e\u7684\u6587\u4ef6\u540d\u79f0\uff0c\u7528\u6237\u53ef\u4ee5\u7a0d\u540e\u81ea\u7531\u4fee\u6539\u3002 \u5982\u679c\u5b58\u5728\u540c\u540d\u6587\u4ef6\uff0c\u4e0d\u4f1a\u8986\u76d6\u5df2\u6709\u7684\u6587\u4ef6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u6dfb\u52a0\u6570\u5b57\u540e\u7f00\u3002 \u5728 onResult \u7684\u56de\u8c03\u4e2d\u6211\u4eec\u53ef\u4ee5\u62ff\u5230\u7528\u6237\u9009\u62e9\u7684 uri\u3002 \u8bf7\u6ce8\u610f\u53ef\u80fd\u4e3a\u7a7a\uff0c\u56e0\u4e3a\u7528\u6237\u53ef\u80fd\u53d6\u6d88\u4e86\u9009\u62e9\u7684\u64cd\u4f5c\u3002\u4e4b\u540e\u6211\u4eec\u53ef\u4ee5\u5bf9\u8be5 uri \u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002 \u6b64\u5916\uff0c\u4f60\u53ef\u4ee5 \u91cd\u5199\u534f\u8bae\u7684 createIntent \u65b9\u6cd5 \uff0c\u901a\u8fc7\u8bbe\u7f6e type \u6307\u5b9a\u521b\u5efa\u6587\u4ef6\u7684 MIME \u7c7b\u578b\uff0c\u6216\u8005\u662f\u6307\u5b9a EXTRA_INITIAL_URI \u6765\u6253\u5f00\u6587\u4ef6\u9009\u62e9\u5668\u65f6\u663e\u793a\u7684\u6587\u4ef6\u8def\u5f84\u7684 uri\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u7684 uri \u9700\u8981\u662f \u7ecf\u8fc7\u6388\u6743\u7684\u6587\u4ef6\u5939\u8def\u5f84 \u3002 type = \"application/json\" if ( Build . VERSION . SDK_INT >= Build . VERSION_CODES . O ) { putExtra ( DocumentsContract . EXTRA_INITIAL_URI , uri ) }","title":"\u521b\u5efa\u6587\u4ef6"},{"location":"android/data-storage/storage-access-framework/#\u6253\u5f00\u6587\u4ef6","text":"\u540c\u4e0a\uff0c\u5c06\u534f\u8bae\u6539\u4e3a OpenDocument\uff08\u5bf9\u5e94\u7684 intent action \u4e3a ACTION_OPEN_DOCUMENT\uff09\u3002 launch \u51fd\u6570\u4e2d\u6211\u4eec\u4f20\u9012\u5b57\u7b26\u4e32\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\uff0c\u5b57\u7b26\u4e32\u4e3a\u6211\u4eec\u9650\u5236\u7528\u6237\u53ef\u4ee5\u9009\u62e9\u7684 mime \u7c7b\u578b\u3002 \u62ff\u5230 uri\uff0c\u5224\u7a7a\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002 \u6211\u4eec\u540c\u6837\u7684\u4e5f\u53ef\u4ee5\u901a\u8fc7 EXTRA_INITIAL_URI \u6765\u8bbe\u7f6e\u6587\u4ef6\u9009\u62e9\u5668\u6253\u5f00\u65f6\u7684\u521d\u59cb\u76ee\u5f55\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7528\u6237\u65e0\u6cd5\u901a\u8fc7\u6587\u4ef6\u9009\u62e9\u5668\u6253\u5f00 Android/data/ \u548c Android/obb/ \u76ee\u5f55\u4ee5\u53ca\u5176\u5b50\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u3002","title":"\u6253\u5f00\u6587\u4ef6"},{"location":"android/data-storage/storage-access-framework/#\u83b7\u53d6\u6587\u4ef6\u5939\u7684\u8bfb\u5199\u6743\u9650","text":"\u901a\u8fc7\u7528\u6237\u9009\u62e9\uff0c\u7a0b\u5e8f\u53ef\u4ee5\u83b7\u5f97\u67d0\u4e2a\u4eba\u6587\u4ef6\u5939\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u7a0b\u5e8f\u65e0\u6cd5\u8bbf\u95ee\u9664\u6b64\u4e4b\u5916\u7684\u6587\u4ef6\u3002 \u4f7f\u7528 OpenDocumentTree \u534f\u8bae\u6765\u9009\u62e9\u6587\u4ef6\u5939\uff08\u5bf9\u5e94 ACTION_OPEN_DOCUMENT_TREE\uff09\u3002 launch \u51fd\u6570\u53ef\u4ee5\u4f20\u9012\u6307\u5b9a\u6587\u4ef6\u9009\u62e9\u5668\u7684\u8d77\u59cb\u4f4d\u7f6e\u7684 uri\u3002 \u62ff\u5230\u53ef\u4ee5\u8bbf\u95ee\u7684\u6587\u4ef6\u5939\u7684 uri\uff0c\u5224\u7a7a\u3002 \u9664\u4e86\u524d\u9762\u63d0\u5230\u7684\u76ee\u5f55\uff0c\u7528\u6237\u4e5f\u4e0d\u53ef\u4ee5\u9009\u62e9\u5b58\u50a8\u7684\u6839\u76ee\u5f55\uff0c\u4e0b\u8f7d\u76ee\u5f55 \u7b49\u6587\u4ef6\u5939 \u3002","title":"\u83b7\u53d6\u6587\u4ef6\u5939\u7684\u8bfb\u5199\u6743\u9650"},{"location":"android/data-storage/storage-access-framework/#\u83b7\u53d6\u6c38\u4e45\u6743\u9650","text":"\u4e0a\u4e2a\u6b65\u9aa4\u4e2d\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9\u62ff\u5230\u6388\u6743\u7684\u6587\u4ef6\u5939\u5185\u7684\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff0c\u4f46\u662f\u7528\u6237\u8bbe\u5907\u91cd\u542f\u4e4b\u540e\u6211\u4eec\u5c06\u5931\u53bb\u8be5\u6587\u4ef6\u5939\u8bbf\u95ee\u6743\u9650\u3002 \u6211\u4eec\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u7684\u65b9\u6cd5\u6765\u83b7\u53d6\u6c38\u4e45\u7684\u8bbf\u95ee\u6743\u9650\u3002 \u4f46\u662f\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u7528\u6237\u624b\u52a8\u5220\u9664\u6216\u8005\u79fb\u52a8\u4e86\u8be5\u6587\u4ef6\u5939\u7684\u8bdd\uff0c\u7a0b\u5e8f\u8fd8\u662f\u4f1a\u5931\u53bb\u8bbf\u95ee\u6743\u9650\u3002 val takeFlags = Intent . FLAG_GRANT_READ_URI_PERMISSION or Intent . FLAG_GRANT_WRITE_URI_PERMISSION context . contentResolver . takePersistableUriPermission ( uri , takeFlags ) \u6b64\u5916\uff0c\u4f60\u5e94\u8be5\u9700\u8981\u4fdd\u5b58\u4e0b uri \u7684\u503c\uff0c\u4ee5\u4fbf\u4ee5\u540e\u8fdb\u884c\u6587\u4ef6\u64cd\u4f5c\u3002\u800c\u5982\u4e0b\u7684\u64cd\u4f5c\u53ef\u4ee5\u83b7\u53d6\u4fbf\u4e8e\u5c55\u793a\u7684\u6587\u4ef6\u76ee\u5f55\u3002 uri . lastPathSegment ?. removePrefix ( \"primary:\" )","title":"\u83b7\u53d6\u6c38\u4e45\u6743\u9650"},{"location":"android/data-storage/storage-access-framework/#\u5728\u88ab\u6388\u6743\u7684\u6587\u4ef6\u5939\u4e0b\u8fdb\u884c\u64cd\u4f5c","text":"\u9996\u5148\u9700\u8981\u6dfb\u52a0\u4f9d\u8d56\uff0c implementation \"androidx.documentfile:documentfile:1.0.1\" \u83b7\u53d6\u5f53\u524d\u6839\u76ee\u5f55 val home = DocumentFile . fromTreeUri ( context , Uri . parse ( uriString )) \u5224\u65ad\u76ee\u5f55\u4e0b\u6709\u65e0\u5bf9\u5e94\u6587\u4ef6 home ?. findFile ( displayName ) \u53c2\u6570\u4e3a\u6587\u4ef6\u540d\uff08\u542b\u540e\u7f00\uff09\uff0c\u5982\u679c\u5b58\u5728\u5219\u8fd4\u56de DocumentFile\uff0c\u5426\u5219\u4e3a\u7a7a\u3002\u901a\u8fc7 getUri \u51fd\u6570\u83b7\u53d6\u5230 uri \u540e\u5c31\u53ef\u4ee5\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u4e86\u3002 \u521b\u5efa\u65b0\u7684\u6587\u4ef6 home ?. createFile ( mimeType , displayName ) \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u6587\u4ef6\u7684 mime \u7c7b\u578b\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u6587\u4ef6\u540d\uff08\u4e0d\u542b\u540e\u7f00\uff09\u3002 \u8fd8\u6709\u5176\u5b83\u7684\u51fd\u6570\u53ef\u7528\uff0c\u53c2\u8003\u6587\u6863\u5373\u53ef\u3002 \u4e00\u4e9b\u5751 \u5f53\u4f60\u901a\u8fc7 documentFile \u6267\u884c\u5220\u9664\u64cd\u4f5c\u4e4b\u540e\uff0c\u5c31\u65e0\u6cd5\u901a\u8fc7\u5b83\u7684 uri \u6765\u8fdb\u884c\u6587\u4ef6\u64cd\u4f5c\u4e86\uff0c\u4f1a\u62a5\u9519\u3002 \u56e0\u4e3a\u6b64\u65f6\u7cfb\u7edf\u65e0\u6cd5\u5224\u65ad\u8be5 uri \u662f\u5426\u4f4d\u4e8e\u4f60\u53ef\u4ee5\u8fdb\u884c\u64cd\u4f5c\u7684\u76ee\u5f55\u4e0b\uff0c\u5c3d\u7ba1\u5b83\u5b9e\u9645\u4e0a\u662f\u7684\u3002 \u8fd9\u91cc\u548c\u83b7\u53d6\u6587\u4ef6\u5939\u6743\u9650\u540e\uff0c\u6587\u4ef6\u5939\u7684\u66f4\u6539\u4f1a\u5bfc\u81f4\u6743\u9650\u4e22\u5931\u7684\u60c5\u51b5\u662f\u4e00\u81f4\u7684\u3002","title":"\u5728\u88ab\u6388\u6743\u7684\u6587\u4ef6\u5939\u4e0b\u8fdb\u884c\u64cd\u4f5c"},{"location":"android/data-storage/use-uri-to-operate-file/","text":"\u901a\u8fc7 uri \u6765\u64cd\u4f5c\u6587\u4ef6 \u5199\u5165 \u57fa\u672c\u4e0a\u90fd\u662f\u4f7f\u7528 contentResolver api \u6765\u8fdb\u884c\u64cd\u4f5c\uff0c\u4f7f\u7528 context \u7684 getContentResolver \u65b9\u6cd5\u6765\u83b7\u53d6\u5230\u3002 context . contentResolver . openFileDescriptor ( uri , \"w\" ) ?. use { FileOutputStream ( it . fileDescriptor ). use { output -> output . write ( bytearray ) } } \u83b7\u53d6\u5230 ParcelFileDescriptor \u7684 fileDescriptor \u5c31\u53ef\u4ee5\u6784\u5efa\u6587\u4ef6\u8f93\u5165\u8f93\u51fa\u6d41\uff0c\u5305\u88c5 ParcelFileDescriptor \u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u5b8c\u4e4b\u540e\u53ef\u4ee5\u5173\u95ed\u5b83\u3002 \u6784\u5efa\u7684 FileOutputStream \u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u5b57\u8282\u6d41\u7684\u65b9\u5f0f\u6765\u5199\u5165\u6587\u4ef6\uff0c\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u5199\u5165\u56fe\u50cf\u3002\u5982\u679c\u662f\u5b57\u7b26\u6d41\u7684\u8bdd\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 FileReader\u3002 \u8bfb\u53d6 context . contentResolver . openInputStream ( uri ). use { val reader = BufferedReader ( InputStreamReader ( it )) reader . forEachLine { } } \u8fd9\u91cc\u6211\u4eec\u548c\u4e0a\u9762\u7684\u793a\u4f8b\u4e0d\u540c\uff0c\u5c55\u793a\u6309\u7167\u5b57\u7b26\u6d41\u7684\u65b9\u5f0f\u6765\u8bfb\u53d6\u6587\u4ef6\u7684\u64cd\u4f5c\u3002InputStreamReader \u662f\u5b57\u8282\u6d41\u548c\u5b57\u7b26\u6d41\u4e4b\u95f4\u7684\u6865\u6881\uff0c\u4f46\u662f\u8003\u8651\u5230\uff0c\u6211\u4eec\u6bcf\u8bfb\u5165\u4e00\u4e2a\u5b57\u7b26\uff0c\u5c31\u9700\u8981\u8bfb\u5165\u591a\u4e2a\u5b57\u8282\u3002\u6211\u4eec\u9700\u8981\u901a\u8fc7\u6784\u5efa BufferedReader \u6765\u83b7\u53d6\u66f4\u597d\u7684\u8bfb\u5165\u6548\u7387\uff0c\u5b83\u4f1a\u4e3a\u6211\u4eec\u5904\u7406\u597d\u5b57\u7b26\u7684\u7f13\u51b2\u3002 forEachLine \u662f\u4e2a\u597d\u7528\u7684\u6269\u5c55\u51fd\u6570\uff0c\u6211\u4eec\u6309\u884c\u8bfb\u5165\u6570\u636e\uff0c\u5f53\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e4b\u540e\uff0c\u5b83\u4f1a\u4e3a\u6211\u4eec\u5173\u95ed\u6389\u4f7f\u7528\u7684\u8d44\u6e90\u3002 \u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 readText \u8fd9\u4e2a\u51fd\u6570\uff0c\u6765\u4e00\u6b21\u6027\u8bfb\u5165\u5168\u90e8\u5185\u5bb9\uff0c\u8bf7\u6ce8\u610f\u9700\u8981\u6211\u4eec\u624b\u52a8\u5173\u95ed\u3002","title":"URI\u548c\u6587\u4ef6\u64cd\u4f5c"},{"location":"android/data-storage/use-uri-to-operate-file/#\u901a\u8fc7-uri-\u6765\u64cd\u4f5c\u6587\u4ef6","text":"","title":"\u901a\u8fc7 uri \u6765\u64cd\u4f5c\u6587\u4ef6"},{"location":"android/data-storage/use-uri-to-operate-file/#\u5199\u5165","text":"\u57fa\u672c\u4e0a\u90fd\u662f\u4f7f\u7528 contentResolver api \u6765\u8fdb\u884c\u64cd\u4f5c\uff0c\u4f7f\u7528 context \u7684 getContentResolver \u65b9\u6cd5\u6765\u83b7\u53d6\u5230\u3002 context . contentResolver . openFileDescriptor ( uri , \"w\" ) ?. use { FileOutputStream ( it . fileDescriptor ). use { output -> output . write ( bytearray ) } } \u83b7\u53d6\u5230 ParcelFileDescriptor \u7684 fileDescriptor \u5c31\u53ef\u4ee5\u6784\u5efa\u6587\u4ef6\u8f93\u5165\u8f93\u51fa\u6d41\uff0c\u5305\u88c5 ParcelFileDescriptor \u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u5b8c\u4e4b\u540e\u53ef\u4ee5\u5173\u95ed\u5b83\u3002 \u6784\u5efa\u7684 FileOutputStream \u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u5b57\u8282\u6d41\u7684\u65b9\u5f0f\u6765\u5199\u5165\u6587\u4ef6\uff0c\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u5199\u5165\u56fe\u50cf\u3002\u5982\u679c\u662f\u5b57\u7b26\u6d41\u7684\u8bdd\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 FileReader\u3002","title":"\u5199\u5165"},{"location":"android/data-storage/use-uri-to-operate-file/#\u8bfb\u53d6","text":"context . contentResolver . openInputStream ( uri ). use { val reader = BufferedReader ( InputStreamReader ( it )) reader . forEachLine { } } \u8fd9\u91cc\u6211\u4eec\u548c\u4e0a\u9762\u7684\u793a\u4f8b\u4e0d\u540c\uff0c\u5c55\u793a\u6309\u7167\u5b57\u7b26\u6d41\u7684\u65b9\u5f0f\u6765\u8bfb\u53d6\u6587\u4ef6\u7684\u64cd\u4f5c\u3002InputStreamReader \u662f\u5b57\u8282\u6d41\u548c\u5b57\u7b26\u6d41\u4e4b\u95f4\u7684\u6865\u6881\uff0c\u4f46\u662f\u8003\u8651\u5230\uff0c\u6211\u4eec\u6bcf\u8bfb\u5165\u4e00\u4e2a\u5b57\u7b26\uff0c\u5c31\u9700\u8981\u8bfb\u5165\u591a\u4e2a\u5b57\u8282\u3002\u6211\u4eec\u9700\u8981\u901a\u8fc7\u6784\u5efa BufferedReader \u6765\u83b7\u53d6\u66f4\u597d\u7684\u8bfb\u5165\u6548\u7387\uff0c\u5b83\u4f1a\u4e3a\u6211\u4eec\u5904\u7406\u597d\u5b57\u7b26\u7684\u7f13\u51b2\u3002 forEachLine \u662f\u4e2a\u597d\u7528\u7684\u6269\u5c55\u51fd\u6570\uff0c\u6211\u4eec\u6309\u884c\u8bfb\u5165\u6570\u636e\uff0c\u5f53\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e4b\u540e\uff0c\u5b83\u4f1a\u4e3a\u6211\u4eec\u5173\u95ed\u6389\u4f7f\u7528\u7684\u8d44\u6e90\u3002 \u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 readText \u8fd9\u4e2a\u51fd\u6570\uff0c\u6765\u4e00\u6b21\u6027\u8bfb\u5165\u5168\u90e8\u5185\u5bb9\uff0c\u8bf7\u6ce8\u610f\u9700\u8981\u6211\u4eec\u624b\u52a8\u5173\u95ed\u3002","title":"\u8bfb\u53d6"},{"location":"android/intent/activity-result/","text":"Activity result \u793a\u4f8b const val IMAGE_MIME_TYPE = \"image/*\" val processingPictures = registerForActivityResult ( contract = ActivityResultContracts . StartActivityForResult () ) { if ( it . resultCode == RESULT_OK ) { it . data ?. data . let { uri -> activity ?. let { binding . preview . setImageBitmap ( BitmapFactory . decodeStream ( it . contentResolver . openInputStream ( uri )) ) } } } } fun selectImage () { val intent = Intent ( Intent . ACTION_GET_CONTENT ). apply { type = IMAGE_MIME_TYPE } processingPictures . launch ( intent ) } \u4f7f\u7528 registerForActivityResult \u521b\u5efa\u4e00\u4e2a\u542f\u52a8\u5668\uff0c\u53c2\u6570\u4e3a\u542f\u52a8\u9700\u8981\u7684\u534f\u8bae\u548c\u62ff\u5230\u7ed3\u679c\u4e4b\u540e\u7684\u56de\u8c03\uff0c\u7136\u540e\u4f7f\u7528 launch \u51fd\u6570\u542f\u52a8\u5373\u53ef\u3002 \u7ea6\u7b49\u4e8e\u662f\u6539\u5199\u4e86\u88ab\u5e9f\u5f03\u7684 startActivityForResult \u65b9\u6cd5\uff0c\u4e0d\u8fc7\u4e0d\u518d\u9700\u8981\u5b9a\u4e49 request code\uff0c\u5404\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u4e8b\u52a1\u4e5f\u4e0d\u518d\u5806\u53e0\u5728\u4e00\u8d77\u3002 \u534f\u8bae abstract class ActivityResultContract < I , O > ActivityResultContract \u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u5b83\u7684\u8303\u578b\u53c2\u6570\u5206\u522b\u4e3a\uff0c\u6211\u4eec\u542f\u52a8\u7684\u65f6\u9700\u8981\u6307\u5b9a\u7684\u53c2\u6570\u548c\u5728\u56de\u8c03\u4e2d\u6211\u4eec\u80fd\u591f\u83b7\u53d6\u5230\u7684\u6570\u636e\u3002 \u4e00\u822c\u6211\u4eec\u4e0d\u9700\u8981\u5b9e\u73b0\u81ea\u5df1\u7684\u534f\u8bae\u7c7b\uff0c\u6bd4\u5982\u8fd9\u91cc\u4f7f\u7528\u7684\u9884\u7f6e\u7684\u901a\u7528\u7684 StartActivityForResult \uff0c\u6574\u4f53\u5199\u6cd5\u548c\u4e4b\u524d\u8fd8\u662f\u5f88\u7c7b\u4f3c\u7684\u3002 \u4f60\u53ef\u4ee5\u67e5\u770b \u66f4\u591a\u9884\u7f6e\u7684\u534f\u8bae \u8865\u5145\u534f\u8bae\u4fe1\u606f \u5927\u591a\u6570\u534f\u8bae\u90fd\u5c06\u5e38\u7528\u7684\u53c2\u6570\u4f5c\u4e3a\u8303\u578b\u53c2\u6570\uff0c\u800c\u975e\u76f4\u63a5\u4f7f\u7528 Intent \u4f5c\u4e3a\u53c2\u6570\u3002 \u5982\u679c\u6709\u989d\u5916\u7684\u4fe1\u606f\u9700\u8981\u8865\u5145\uff0c\u6211\u4eec\u9700\u8981\u91cd\u5199\u534f\u8bae\u7684 createIntent \u65b9\u6cd5\u6765\u4f20\u9012\u4e00\u4e9b\u5176\u4ed6\u7684\u5185\u5bb9\u5230 intent \u4e2d\u3002 contract = object : ActivityResultContracts . CreateDocument () { override fun createIntent ( context : Context , input : String ): Intent { return super . createIntent ( context , input ). apply { } } } \u5176\u5b83 jetpack compose \u4e2d\u63d0\u4f9b\u4e86\u5bf9\u5e94\u7684\u51fd\u6570 rememberLauncherForActivityResult \uff0c\u5199\u6cd5\u4e0a\u5b8c\u5168\u4e00\u81f4\u3002 \u53c2\u8003\u94fe\u63a5 \u518d\u89c1\uff01onActivityResult\uff01\u4f60\u597d\uff0cActivity Results API\uff01","title":"Activity Result"},{"location":"android/intent/activity-result/#activity-result","text":"","title":"Activity result"},{"location":"android/intent/activity-result/#\u793a\u4f8b","text":"const val IMAGE_MIME_TYPE = \"image/*\" val processingPictures = registerForActivityResult ( contract = ActivityResultContracts . StartActivityForResult () ) { if ( it . resultCode == RESULT_OK ) { it . data ?. data . let { uri -> activity ?. let { binding . preview . setImageBitmap ( BitmapFactory . decodeStream ( it . contentResolver . openInputStream ( uri )) ) } } } } fun selectImage () { val intent = Intent ( Intent . ACTION_GET_CONTENT ). apply { type = IMAGE_MIME_TYPE } processingPictures . launch ( intent ) } \u4f7f\u7528 registerForActivityResult \u521b\u5efa\u4e00\u4e2a\u542f\u52a8\u5668\uff0c\u53c2\u6570\u4e3a\u542f\u52a8\u9700\u8981\u7684\u534f\u8bae\u548c\u62ff\u5230\u7ed3\u679c\u4e4b\u540e\u7684\u56de\u8c03\uff0c\u7136\u540e\u4f7f\u7528 launch \u51fd\u6570\u542f\u52a8\u5373\u53ef\u3002 \u7ea6\u7b49\u4e8e\u662f\u6539\u5199\u4e86\u88ab\u5e9f\u5f03\u7684 startActivityForResult \u65b9\u6cd5\uff0c\u4e0d\u8fc7\u4e0d\u518d\u9700\u8981\u5b9a\u4e49 request code\uff0c\u5404\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u4e8b\u52a1\u4e5f\u4e0d\u518d\u5806\u53e0\u5728\u4e00\u8d77\u3002","title":"\u793a\u4f8b"},{"location":"android/intent/activity-result/#\u534f\u8bae","text":"abstract class ActivityResultContract < I , O > ActivityResultContract \u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u5b83\u7684\u8303\u578b\u53c2\u6570\u5206\u522b\u4e3a\uff0c\u6211\u4eec\u542f\u52a8\u7684\u65f6\u9700\u8981\u6307\u5b9a\u7684\u53c2\u6570\u548c\u5728\u56de\u8c03\u4e2d\u6211\u4eec\u80fd\u591f\u83b7\u53d6\u5230\u7684\u6570\u636e\u3002 \u4e00\u822c\u6211\u4eec\u4e0d\u9700\u8981\u5b9e\u73b0\u81ea\u5df1\u7684\u534f\u8bae\u7c7b\uff0c\u6bd4\u5982\u8fd9\u91cc\u4f7f\u7528\u7684\u9884\u7f6e\u7684\u901a\u7528\u7684 StartActivityForResult \uff0c\u6574\u4f53\u5199\u6cd5\u548c\u4e4b\u524d\u8fd8\u662f\u5f88\u7c7b\u4f3c\u7684\u3002 \u4f60\u53ef\u4ee5\u67e5\u770b \u66f4\u591a\u9884\u7f6e\u7684\u534f\u8bae","title":"\u534f\u8bae"},{"location":"android/intent/activity-result/#\u8865\u5145\u534f\u8bae\u4fe1\u606f","text":"\u5927\u591a\u6570\u534f\u8bae\u90fd\u5c06\u5e38\u7528\u7684\u53c2\u6570\u4f5c\u4e3a\u8303\u578b\u53c2\u6570\uff0c\u800c\u975e\u76f4\u63a5\u4f7f\u7528 Intent \u4f5c\u4e3a\u53c2\u6570\u3002 \u5982\u679c\u6709\u989d\u5916\u7684\u4fe1\u606f\u9700\u8981\u8865\u5145\uff0c\u6211\u4eec\u9700\u8981\u91cd\u5199\u534f\u8bae\u7684 createIntent \u65b9\u6cd5\u6765\u4f20\u9012\u4e00\u4e9b\u5176\u4ed6\u7684\u5185\u5bb9\u5230 intent \u4e2d\u3002 contract = object : ActivityResultContracts . CreateDocument () { override fun createIntent ( context : Context , input : String ): Intent { return super . createIntent ( context , input ). apply { } } }","title":"\u8865\u5145\u534f\u8bae\u4fe1\u606f"},{"location":"android/intent/activity-result/#\u5176\u5b83","text":"jetpack compose \u4e2d\u63d0\u4f9b\u4e86\u5bf9\u5e94\u7684\u51fd\u6570 rememberLauncherForActivityResult \uff0c\u5199\u6cd5\u4e0a\u5b8c\u5168\u4e00\u81f4\u3002","title":"\u5176\u5b83"},{"location":"android/intent/activity-result/#\u53c2\u8003\u94fe\u63a5","text":"\u518d\u89c1\uff01onActivityResult\uff01\u4f60\u597d\uff0cActivity Results API\uff01","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"android/intent/common-intents/","text":"\u5e38\u7528\u7684 Intent \u793a\u4f8b \u4ece\u76f8\u673a\u62cd\u6444\u56fe\u7247 \u5c06\u534f\u8bae\u6307\u5b9a\u4e3a TakePicture \uff0c launch \u51fd\u6570\u4e2d\u4f20\u9012\u5c06\u8981\u4fdd\u5b58\u56fe\u7247\u5730\u5740\u7684 uri\u3002 \u8bf7\u6ce8\u610f\u56de\u8c03\u4e2d\u53ea\u80fd\u62ff\u5230\u662f\u5426\u62cd\u7167\u6210\u529f\u7684\u6570\u636e\uff0c\u6240\u4ee5\u4e00\u822c\u9700\u8981\u8bb0\u5f55\u4e0b\u6b64\u523b\u4f20\u9012\u7684 uri \u4fbf\u4e8e\u4f7f\u7528\u62cd\u6444\u7684\u7167\u7247\u3002 \u5bf9\u4e8e\u4f20\u9012\u7684 uri\uff0c\u9700\u8981\u5148\u6784\u5efa\uff0c\u8fd9\u91cc\u6307\u5b9a\u51fa\u6587\u4ef6\u540d\u5e76\u586b\u5145\u3002 val filename = \" ${ System . currentTimeMillis () } .jpg\" val imageUri = if ( Build . VERSION . SDK_INT >= Build . VERSION_CODES . Q ) { MediaStore . Images . Media . getContentUri ( MediaStore . VOLUME_EXTERNAL_PRIMARY ) } else { MediaStore . Images . Media . EXTERNAL_CONTENT_URI } val imageDetails = ContentValues (). apply { put ( MediaStore . Images . Media . DISPLAY_NAME , filename ) } context . contentResolver . insert ( imageUri , imageDetails ). let { takenPictureUri = it launcherFromCamera . launch ( takenPictureUri ) } \u5bf9\u4e8e\u56de\u8c03\uff0c\u53ef\u4ee5\u62ff\u5230\u662f\u5426\u62cd\u6444\u6210\u529f\u7684\u4fe1\u606f\uff0c\u5982\u679c\u62cd\u6444\u6210\u529f\uff0c\u4e4b\u524d\u8bb0\u5f55\u4e0b\u7684 uri \u5c31\u80fd\u8fdb\u884c\u64cd\u4f5c\u4e86\uff0c\u6bd4\u5982\u5c55\u793a\u56fe\u7247\u3002 \u53c2\u8003\u94fe\u63a5 AndroidResultContracts.TakePicture() returns Boolean instead of Bitmap )","title":"\u5e38\u7528\u7684 Intent"},{"location":"android/intent/common-intents/#\u5e38\u7528\u7684-intent-\u793a\u4f8b","text":"","title":"\u5e38\u7528\u7684 Intent \u793a\u4f8b"},{"location":"android/intent/common-intents/#\u4ece\u76f8\u673a\u62cd\u6444\u56fe\u7247","text":"\u5c06\u534f\u8bae\u6307\u5b9a\u4e3a TakePicture \uff0c launch \u51fd\u6570\u4e2d\u4f20\u9012\u5c06\u8981\u4fdd\u5b58\u56fe\u7247\u5730\u5740\u7684 uri\u3002 \u8bf7\u6ce8\u610f\u56de\u8c03\u4e2d\u53ea\u80fd\u62ff\u5230\u662f\u5426\u62cd\u7167\u6210\u529f\u7684\u6570\u636e\uff0c\u6240\u4ee5\u4e00\u822c\u9700\u8981\u8bb0\u5f55\u4e0b\u6b64\u523b\u4f20\u9012\u7684 uri \u4fbf\u4e8e\u4f7f\u7528\u62cd\u6444\u7684\u7167\u7247\u3002 \u5bf9\u4e8e\u4f20\u9012\u7684 uri\uff0c\u9700\u8981\u5148\u6784\u5efa\uff0c\u8fd9\u91cc\u6307\u5b9a\u51fa\u6587\u4ef6\u540d\u5e76\u586b\u5145\u3002 val filename = \" ${ System . currentTimeMillis () } .jpg\" val imageUri = if ( Build . VERSION . SDK_INT >= Build . VERSION_CODES . Q ) { MediaStore . Images . Media . getContentUri ( MediaStore . VOLUME_EXTERNAL_PRIMARY ) } else { MediaStore . Images . Media . EXTERNAL_CONTENT_URI } val imageDetails = ContentValues (). apply { put ( MediaStore . Images . Media . DISPLAY_NAME , filename ) } context . contentResolver . insert ( imageUri , imageDetails ). let { takenPictureUri = it launcherFromCamera . launch ( takenPictureUri ) } \u5bf9\u4e8e\u56de\u8c03\uff0c\u53ef\u4ee5\u62ff\u5230\u662f\u5426\u62cd\u6444\u6210\u529f\u7684\u4fe1\u606f\uff0c\u5982\u679c\u62cd\u6444\u6210\u529f\uff0c\u4e4b\u524d\u8bb0\u5f55\u4e0b\u7684 uri \u5c31\u80fd\u8fdb\u884c\u64cd\u4f5c\u4e86\uff0c\u6bd4\u5982\u5c55\u793a\u56fe\u7247\u3002","title":"\u4ece\u76f8\u673a\u62cd\u6444\u56fe\u7247"},{"location":"android/intent/common-intents/#\u53c2\u8003\u94fe\u63a5","text":"AndroidResultContracts.TakePicture() returns Boolean instead of Bitmap )","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"android/prepare/start-writing-an-android-project/","text":"\u5982\u4f55\u5f00\u59cb\u5199\u4e00\u4e2a android \u9879\u76ee android studio \u8bbe\u7f6e \u66f4\u65b0\u6700\u65b0\uff0c\u8bf7\u4fdd\u6301\u7248\u672c\u548c\u63d2\u4ef6\u4e3a\u6700\u65b0\u7a33\u5b9a\u7248 \u5185\u5b58\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u5230\u6700\u5927 sdk \u4e0b\u8f7d \u4ee3\u7406\u914d\u7f6e idea \u7cfb\u5feb\u6377\u952e \u5feb\u6377\u952e \u529f\u80fd cmd + shift + u \u8f6c\u6362\u5927\u5c0f\u5199 option + shift + click \u591a\u5149\u6807 cmd + option + t \u521b\u5efa\u4ee3\u7801\u5757\u4f9b\u6298\u53e0 cmd + . \u6298\u53e0 cmd + shift + + or - \u5feb\u901f\u6298\u53e0\u548c\u5c55\u5f00\u5168\u90e8\u4ee3\u7801\u5757 spotless \u548c ktlint \u901a\u8fc7 ktlint \u6765\u8bbe\u7f6e kotlin \u4ee3\u7801\u98ce\u683c \u9700\u8981\u63d0\u524d\u5b89\u88c5\u597d ktlint\uff0c\u5728\u9879\u76ee\u6587\u4ef6\u5939\u4e0b\u8fd0\u884c ktlint --android applyToIDEAProject \u8fd9\u53ea\u4f1a\u5f71\u54cd\u5f53\u524d idea \u9879\u76ee\uff0c\u4e5f\u662f\u5b98\u65b9\u63a8\u8350\u7684\u65b9\u6cd5\u3002 \u4f60\u53ef\u4ee5\u5728 \u5b98\u65b9\u6587\u6863 \u67e5\u770b\u66f4\u591a\u8bbe\u7f6e\u65b9\u5f0f\u3002 \u8bbe\u7f6e spotless \u8bf7\u624b\u52a8\u67e5\u8be2\u5f53\u524d\u7684 spotless \u548c ktlint \u7684\u6700\u65b0\u7248\u672c\uff0c\u94fe\u63a5\u5df2\u653e\u5728\u540e\u9762 \u4e0d\u8981\u5fd8\u8bb0\u79fb\u9664 as \u9ed8\u8ba4\u751f\u6210\u7684 task task clean(type: Delete) { delete rootProject.buildDir } \u914d\u7f6e gradle \u7ec8\u7aef\u8f93\u5165 ./gradlew app:spotlessApply \uff0c\u6309\u4e0b cmd + enter \u6765\u521b\u5efa \u63d0\u4ea4\u524d\u81ea\u52a8\u68c0\u67e5\u4ee3\u7801\u683c\u5f0f \u4f9d\u7136\u662f\u5728\u9879\u76ee\u6587\u4ef6\u5939\u4e0b\u8fd0\u884c ktlint installGitPreCommitHook \u53c2\u8003 \u8c37\u6b4c\u9879\u76ee\u793a\u4f8b spotless ktlint \u542f\u7528\u7248\u672c\u63a7\u5236 \u6211\u4eec\u9700\u8981\u914d\u7f6e\u597d git ignore \u6587\u4ef6\uff0c\u53ef\u4ee5\u53c2\u8003\u524d\u9762\u7684\u8c37\u6b4c\u9879\u76ee\u793a\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u53c2\u8003 github \u7ef4\u62a4\u7684 \u793a\u4f8b \u5f53\u7136\u4f60\u53ef\u4ee5\u6392\u9664\u4f60\u60f3\u8981\u6392\u9664\u7684\uff0c\u4f46\u662f\u8bf7\u786e\u4fdd\u522b\u4eba clone \u4e0b\u4f60\u7684\u9879\u76ee\uff0c\u53ef\u4ee5\u9a6c\u4e0a\u8dd1\u8d77\u6765 \u4f7f\u7528 r8 \u6765\u538b\u7f29\u5e94\u7528\u4f53\u79ef \u6211\u4eec\u53ea\u9700\u8981\u8bbe\u7f6e minifyEnabled true \u5373\u53ef \u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\u4f7f\u7528\u5230\u4e86\u53cd\u5c04\uff0c\u6211\u4eec\u9700\u8981\u4fdd\u7559\u8fd9\u4e9b\u4ee3\u7801\u4e0d\u88ab\u4f18\u5316\u6389\u3002\u8981\u4fdd\u7559\u540d\u79f0\u5b57\u6bb5\uff0c\u5728 proguard-rules.pro \u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u4fdd\u7559\u89c4\u5219 -keep: litepal ProGuard serialization ProGuard \u53c2\u8003 Shrink, obfuscate, and optimize your app \u4f7f\u7528 R8 \u538b\u7f29\u60a8\u7684\u5e94\u7528","title":"\u5982\u4f55\u5f00\u59cb\u5199\u4e00\u4e2a android \u9879\u76ee"},{"location":"android/prepare/start-writing-an-android-project/#\u5982\u4f55\u5f00\u59cb\u5199\u4e00\u4e2a-android-\u9879\u76ee","text":"","title":"\u5982\u4f55\u5f00\u59cb\u5199\u4e00\u4e2a android \u9879\u76ee"},{"location":"android/prepare/start-writing-an-android-project/#android-studio-\u8bbe\u7f6e","text":"\u66f4\u65b0\u6700\u65b0\uff0c\u8bf7\u4fdd\u6301\u7248\u672c\u548c\u63d2\u4ef6\u4e3a\u6700\u65b0\u7a33\u5b9a\u7248 \u5185\u5b58\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u5230\u6700\u5927 sdk \u4e0b\u8f7d \u4ee3\u7406\u914d\u7f6e","title":"android studio \u8bbe\u7f6e"},{"location":"android/prepare/start-writing-an-android-project/#idea-\u7cfb\u5feb\u6377\u952e","text":"\u5feb\u6377\u952e \u529f\u80fd cmd + shift + u \u8f6c\u6362\u5927\u5c0f\u5199 option + shift + click \u591a\u5149\u6807 cmd + option + t \u521b\u5efa\u4ee3\u7801\u5757\u4f9b\u6298\u53e0 cmd + . \u6298\u53e0 cmd + shift + + or - \u5feb\u901f\u6298\u53e0\u548c\u5c55\u5f00\u5168\u90e8\u4ee3\u7801\u5757","title":"idea \u7cfb\u5feb\u6377\u952e"},{"location":"android/prepare/start-writing-an-android-project/#spotless-\u548c-ktlint","text":"","title":"spotless \u548c ktlint"},{"location":"android/prepare/start-writing-an-android-project/#\u901a\u8fc7-ktlint-\u6765\u8bbe\u7f6e-kotlin-\u4ee3\u7801\u98ce\u683c","text":"\u9700\u8981\u63d0\u524d\u5b89\u88c5\u597d ktlint\uff0c\u5728\u9879\u76ee\u6587\u4ef6\u5939\u4e0b\u8fd0\u884c ktlint --android applyToIDEAProject \u8fd9\u53ea\u4f1a\u5f71\u54cd\u5f53\u524d idea \u9879\u76ee\uff0c\u4e5f\u662f\u5b98\u65b9\u63a8\u8350\u7684\u65b9\u6cd5\u3002 \u4f60\u53ef\u4ee5\u5728 \u5b98\u65b9\u6587\u6863 \u67e5\u770b\u66f4\u591a\u8bbe\u7f6e\u65b9\u5f0f\u3002","title":"\u901a\u8fc7 ktlint \u6765\u8bbe\u7f6e kotlin \u4ee3\u7801\u98ce\u683c"},{"location":"android/prepare/start-writing-an-android-project/#\u8bbe\u7f6e-spotless","text":"\u8bf7\u624b\u52a8\u67e5\u8be2\u5f53\u524d\u7684 spotless \u548c ktlint \u7684\u6700\u65b0\u7248\u672c\uff0c\u94fe\u63a5\u5df2\u653e\u5728\u540e\u9762 \u4e0d\u8981\u5fd8\u8bb0\u79fb\u9664 as \u9ed8\u8ba4\u751f\u6210\u7684 task task clean(type: Delete) { delete rootProject.buildDir }","title":"\u8bbe\u7f6e spotless"},{"location":"android/prepare/start-writing-an-android-project/#\u914d\u7f6e-gradle","text":"\u7ec8\u7aef\u8f93\u5165 ./gradlew app:spotlessApply \uff0c\u6309\u4e0b cmd + enter \u6765\u521b\u5efa","title":"\u914d\u7f6e gradle"},{"location":"android/prepare/start-writing-an-android-project/#\u63d0\u4ea4\u524d\u81ea\u52a8\u68c0\u67e5\u4ee3\u7801\u683c\u5f0f","text":"\u4f9d\u7136\u662f\u5728\u9879\u76ee\u6587\u4ef6\u5939\u4e0b\u8fd0\u884c ktlint installGitPreCommitHook","title":"\u63d0\u4ea4\u524d\u81ea\u52a8\u68c0\u67e5\u4ee3\u7801\u683c\u5f0f"},{"location":"android/prepare/start-writing-an-android-project/#\u53c2\u8003","text":"\u8c37\u6b4c\u9879\u76ee\u793a\u4f8b spotless ktlint","title":"\u53c2\u8003"},{"location":"android/prepare/start-writing-an-android-project/#\u542f\u7528\u7248\u672c\u63a7\u5236","text":"\u6211\u4eec\u9700\u8981\u914d\u7f6e\u597d git ignore \u6587\u4ef6\uff0c\u53ef\u4ee5\u53c2\u8003\u524d\u9762\u7684\u8c37\u6b4c\u9879\u76ee\u793a\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u53c2\u8003 github \u7ef4\u62a4\u7684 \u793a\u4f8b \u5f53\u7136\u4f60\u53ef\u4ee5\u6392\u9664\u4f60\u60f3\u8981\u6392\u9664\u7684\uff0c\u4f46\u662f\u8bf7\u786e\u4fdd\u522b\u4eba clone \u4e0b\u4f60\u7684\u9879\u76ee\uff0c\u53ef\u4ee5\u9a6c\u4e0a\u8dd1\u8d77\u6765","title":"\u542f\u7528\u7248\u672c\u63a7\u5236"},{"location":"android/prepare/start-writing-an-android-project/#\u4f7f\u7528-r8-\u6765\u538b\u7f29\u5e94\u7528\u4f53\u79ef","text":"\u6211\u4eec\u53ea\u9700\u8981\u8bbe\u7f6e minifyEnabled true \u5373\u53ef \u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\u4f7f\u7528\u5230\u4e86\u53cd\u5c04\uff0c\u6211\u4eec\u9700\u8981\u4fdd\u7559\u8fd9\u4e9b\u4ee3\u7801\u4e0d\u88ab\u4f18\u5316\u6389\u3002\u8981\u4fdd\u7559\u540d\u79f0\u5b57\u6bb5\uff0c\u5728 proguard-rules.pro \u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u4fdd\u7559\u89c4\u5219 -keep: litepal ProGuard serialization ProGuard","title":"\u4f7f\u7528 r8 \u6765\u538b\u7f29\u5e94\u7528\u4f53\u79ef"},{"location":"android/prepare/start-writing-an-android-project/#\u53c2\u8003_1","text":"Shrink, obfuscate, and optimize your app \u4f7f\u7528 R8 \u538b\u7f29\u60a8\u7684\u5e94\u7528","title":"\u53c2\u8003"},{"location":"big-data/set-up-flume/","text":"Flume \u8bbe\u7f6e \u5f53\u4f60\u6309\u7167 User Guide \u8dd1\u7b2c\u4e00\u4e2a\u7a0b\u5e8f\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u8dd1\u4e0d\u8d77\u6765\uff0c\u8fd9\u91cc\u6709\u4e00\u4e9b\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u3002 jar \u5305\u51b2\u7a81 SLF4J: Class path contains multiple SLF4J bindings. SLF4J: Found binding in [jar:file:/C:/Users/admin/.m2/repository/org/slf4j/slf4j-log4j12/1.6.4/slf4j-log4j12-1.6.4.jar!/org/slf4j/impl/StaticLoggerBinder.class] SLF4J: Found binding in [jar:file:/C:/Users/admin/.m2/repository/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar!/org/slf4j/impl/StaticLoggerBinder.class] \u8fd9\u662f\u7531\u4e8e Hadoop \u548c flume \u5f15\u7528\u4e86\u76f8\u540c\u7684 jar \u5305\u5bfc\u81f4\u7684\uff0c\u4f60\u53ef\u4ee5\u53bb flume \u7684\u5bf9\u5e94\u6587\u4ef6\u5939\u4e0b\u5220\u9664 jar \u5305\u5373\u53ef\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u8fd9\u79cd\u60c5\u51b5\u5f88\u5e38\u89c1\uff0c\u540e\u7eed\u5b89\u88c5\u90e8\u5206\u9047\u5230\u4e0d\u518d\u8d58\u8ff0\u3002 \u5185\u5b58\u4e0d\u8db3 Exception in thread \"main\" \u5f53\u4f60\u770b\u5230\u5982\u4e0b\u7684\u9519\u8bef\u65f6\uff0c\u8bf7\u5c06\u9ed8\u8ba4\u7684 flume-env.sh \u4e2d\u7684\u4e00\u884c\u6ce8\u91ca\u53bb\u6389\u3002 # Give Flume more memory and pre-allocate, enable remote monitoring via JMX export JAVA_OPTS = \"-Xms100m -Xmx2000m -Dcom.sun.management.jmxremote\" \u6267\u884c\u547d\u4ee4\u65f6\u8bf7\u4eff\u7167\u5982\u4e0b\uff1a flume-ng agent --conf /usr/local/Cellar/flume/1.9.0_1/libexec/conf --conf-file example.conf --name a3 -Dflume.root.logger = INFO,console \u5176\u5b83 \u8bf7\u6ce8\u610f\u8fd9\u91cc\u7684\u73af\u5883\u5e94\u8be5\u662f\u8bbe\u7f6e\u597d java \u548c Hadoop \u7684\u73af\u5883\u53d8\u91cf\u4e4b\u540e\u624d\u8fdb\u884c\u7684\u64cd\u4f5c\uff0c\u6545\u8fd9\u91cc\u4e0d\u5bf9\u8be5\u73af\u5883\u53d8\u91cf\u8fdb\u884c\u8bbe\u7f6e\u3002","title":"Setup"},{"location":"big-data/set-up-flume/#flume-\u8bbe\u7f6e","text":"\u5f53\u4f60\u6309\u7167 User Guide \u8dd1\u7b2c\u4e00\u4e2a\u7a0b\u5e8f\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u8dd1\u4e0d\u8d77\u6765\uff0c\u8fd9\u91cc\u6709\u4e00\u4e9b\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u3002","title":"Flume \u8bbe\u7f6e"},{"location":"big-data/set-up-flume/#jar-\u5305\u51b2\u7a81","text":"SLF4J: Class path contains multiple SLF4J bindings. SLF4J: Found binding in [jar:file:/C:/Users/admin/.m2/repository/org/slf4j/slf4j-log4j12/1.6.4/slf4j-log4j12-1.6.4.jar!/org/slf4j/impl/StaticLoggerBinder.class] SLF4J: Found binding in [jar:file:/C:/Users/admin/.m2/repository/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar!/org/slf4j/impl/StaticLoggerBinder.class] \u8fd9\u662f\u7531\u4e8e Hadoop \u548c flume \u5f15\u7528\u4e86\u76f8\u540c\u7684 jar \u5305\u5bfc\u81f4\u7684\uff0c\u4f60\u53ef\u4ee5\u53bb flume \u7684\u5bf9\u5e94\u6587\u4ef6\u5939\u4e0b\u5220\u9664 jar \u5305\u5373\u53ef\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u8fd9\u79cd\u60c5\u51b5\u5f88\u5e38\u89c1\uff0c\u540e\u7eed\u5b89\u88c5\u90e8\u5206\u9047\u5230\u4e0d\u518d\u8d58\u8ff0\u3002","title":"jar \u5305\u51b2\u7a81"},{"location":"big-data/set-up-flume/#\u5185\u5b58\u4e0d\u8db3","text":"Exception in thread \"main\" \u5f53\u4f60\u770b\u5230\u5982\u4e0b\u7684\u9519\u8bef\u65f6\uff0c\u8bf7\u5c06\u9ed8\u8ba4\u7684 flume-env.sh \u4e2d\u7684\u4e00\u884c\u6ce8\u91ca\u53bb\u6389\u3002 # Give Flume more memory and pre-allocate, enable remote monitoring via JMX export JAVA_OPTS = \"-Xms100m -Xmx2000m -Dcom.sun.management.jmxremote\" \u6267\u884c\u547d\u4ee4\u65f6\u8bf7\u4eff\u7167\u5982\u4e0b\uff1a flume-ng agent --conf /usr/local/Cellar/flume/1.9.0_1/libexec/conf --conf-file example.conf --name a3 -Dflume.root.logger = INFO,console","title":"\u5185\u5b58\u4e0d\u8db3"},{"location":"big-data/set-up-flume/#\u5176\u5b83","text":"\u8bf7\u6ce8\u610f\u8fd9\u91cc\u7684\u73af\u5883\u5e94\u8be5\u662f\u8bbe\u7f6e\u597d java \u548c Hadoop \u7684\u73af\u5883\u53d8\u91cf\u4e4b\u540e\u624d\u8fdb\u884c\u7684\u64cd\u4f5c\uff0c\u6545\u8fd9\u91cc\u4e0d\u5bf9\u8be5\u73af\u5883\u53d8\u91cf\u8fdb\u884c\u8bbe\u7f6e\u3002","title":"\u5176\u5b83"},{"location":"big-data/set-up-hadoop/","text":"\u5728 macOS \u4e0a\u642d\u5efa hadoop \u73af\u5883 \u53c2\u8003\u5b98\u65b9\u7684 \u8d77\u6b65\u6587\u6863 \uff0c\u63a8\u8350\u7684\u7cfb\u7edf\u4e3a Linux\uff0c\u4f46\u662f macOS \u73af\u5883\u7c7b\u4f3c\uff0c\u5e94\u8be5\u4e5f\u662f\u53ef\u4ee5\u5c1d\u8bd5\u7684\u3002 brew install hadoop \u4f7f\u7528 Homebrew \u6765\u8fdb\u884c\u4e00\u952e\u5b89\u88c5\u3002\u6ce8\u610f\u5b83\u4f1a\u4f9d\u8d56\u4e8e openjdk\uff0c\u4f46\u662f brew \u4f1a\u9ed8\u8ba4\u5b89\u88c5\u6700\u65b0\u7248\u672c\uff0c\u800c\u53c2\u8003 \u63a8\u8350\u7248\u672c \uff0c\u6700\u5408\u9002\u7684\u662f java 8\uff0c\u6240\u4ee5\u8bf7\u5b89\u88c5 openjdk8 \u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5982\u679c\u4f60\u9700\u8981\u8ba9\u7cfb\u7edf\u8bc6\u522b\u5b89\u88c5\u7684 jdk\uff0c\u8bf7\u8fd0\u884c\uff1a sudo ln -sfn $( brew --prefix ) /opt/openjdk@8/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-8.jdk \u8fd9\u4f1a\u5728 JavaVirtualMachines \u76ee\u5f55\u4e0b\u521b\u5efa\u8f6f\u94fe\u63a5\u5230\u4f60\u7684 jdk \u4e0b\uff0c\u7136\u540e\u4f60\u7684 IDEA \u5c31\u53ef\u4ee5\u8bc6\u522b\u5230\u8fd9\u4e2a jdk \u4e86\u3002\u800c\u53ea\u662f\u914d\u7f6e\u73af\u5883\u7684\u8bdd\uff0c\u6211\u4eec\u73af\u5883\u53d8\u91cf\u91cc\u9762\u8bbe\u7f6e\u4e00\u4e0b JAVA_HOME \u5373\u53ef export JAVA_HOME = \"/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home\" \u53e6\u5916\u5fc5\u987b\u6709 ssh \u7684\u73af\u5883\uff0cmacOS \u4e00\u822c\u9ed8\u8ba4\u81ea\u5e26\uff0c\u9700\u8981\u5728\u8bbe\u7f6e\u9009\u9879 Sharing \u4e2d\u5f00\u542f\u5141\u8bb8\u8fdc\u7a0b\u767b\u5f55\u3002\u4ee5\u53ca\u5b89\u88c5 pdsh \u6765\u66f4\u597d\u7684\u7ba1\u7406 ssh \u7684\u8d44\u6e90\u3002 \u521d\u59cb\u5316\u8bbe\u7f6e \u5bf9\u4e8e brew \uff0cHadoop \u7684\u5b89\u88c5\u76ee\u5f55\u662f usr/local/Cellar/hadoop/<version>/libexec/etc/hadoop \u8bbe\u7f6e JAVA_HOME \u53c2\u8003 hadoop-env.sh \u6587\u4ef6\uff0c\u5728 macOS \u4e0a\u6211\u4eec\u4e0d\u9700\u8981\u8bbe\u7f6e\u6b64\u9879\u3002 The java implementation to use. By default, this environment variable is REQUIRED on ALL platforms except OS X! \u5176\u5b83 \u53c2\u8003 \u5b98\u65b9\u6587\u6863 \u4fee\u6539 core-site.xml \u548c hdfs-site.xml \uff0c\u8bbe\u7f6e ssh \u514d\u5bc6\u8fde\u63a5\u3002\u521d\u59cb\u5316\u683c\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff1a hdfs namenode -format \u8bbe\u7f6e\u5feb\u6377\u6307\u4ee4 \u4eff\u7167\u5982\u4e0b\u6765\u8bbe\u7f6e\u542f\u52a8\u548c\u5173\u95ed Hadoop \u7684\u5feb\u6377\u6307\u4ee4\uff0c\u6dfb\u52a0\u5230\u4f60\u7684\u73af\u5883\u53d8\u91cf\u4e2d\u3002 alias hstart = \"/usr/local/Cellar/hadoop/3.3.1/sbin/start-dfs.sh\" alias hstop = \"/usr/local/Cellar/hadoop/3.3.1/sbin/stop-dfs.sh\" \u8b66\u544a\u6d88\u9664\uff08\u53ef\u9009\uff09 \u542f\u52a8\u5b8c\u6210\u4e4b\u540e\u4f60\u5927\u6982\u4f1a\u770b\u5230\u5982\u4e0b\u7684\u8b66\u544a\u63d0\u793a\uff1a 2021-09-18 16:22:19,280 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable \u5b83\u5e76\u4e0d\u5f71\u54cd\u6b63\u5e38\u5de5\u4f5c\uff0c\u6d88\u9664\u8b66\u544a\u9700\u8981\u81ea\u5df1\u5728 macOS \u4e0a\u7f16\u8bd1\u6e90\u7801\uff0c\u53c2\u8003 \u95ee\u9898\u5b9a\u4f4d \u548c Build Hadoop source code on macOS \u3002\u6211\u5c31\u4e0d\u7f16\u8bd1\u4e86\uff0c\u6d88\u9664\u5f3a\u8feb\u75c7\u7684\u65b9\u6cd5\u662f\u89e3\u51b3\u7684\u65b9\u6cd5\u66f4\u52a0\u9ebb\u70e6\u3002 \u5176\u5b83\u53ef\u80fd\u51fa\u73b0\u7684\u9519\u8bef Hadoop cluster setup - java.net.ConnectException: Connection refused \u53c2\u8003 stackoverflow \uff0c\u6211\u4eec\u9700\u8981\u5148\u5173\u95ed\uff0c\u7136\u540e\u91cd\u65b0\u683c\u5f0f\u5316 namenode\u3002 \u603b\u7ed3 \u5982\u6b64\u4e00\u4e2a\u53ef\u7528\u7684 hdfs \u5c31\u642d\u5efa\u5b8c\u6210\u4e86\uff0c\u4f7f\u7528 hstart \u542f\u52a8\u4e4b\u540e\u53ef\u4ee5\u8bbf\u95ee http://localhost:9870/ \u6765\u67e5\u770b\u6548\u679c\uff0c\u603b\u4f53\u4e0a\u6bd4\u5728 Linux \u4e0a\u8fd8\u662f\u65b9\u4fbf\u4e0d\u5c11\u3002\u5173\u4e8e\u66f4\u591a\u8bbe\u7f6e\u548c\u4f7f\u7528\uff0c\u8bf7\u770b\u5b98\u65b9\u6587\u6863","title":"Setup"},{"location":"big-data/set-up-hadoop/#\u5728-macos-\u4e0a\u642d\u5efa-hadoop-\u73af\u5883","text":"\u53c2\u8003\u5b98\u65b9\u7684 \u8d77\u6b65\u6587\u6863 \uff0c\u63a8\u8350\u7684\u7cfb\u7edf\u4e3a Linux\uff0c\u4f46\u662f macOS \u73af\u5883\u7c7b\u4f3c\uff0c\u5e94\u8be5\u4e5f\u662f\u53ef\u4ee5\u5c1d\u8bd5\u7684\u3002","title":"\u5728 macOS \u4e0a\u642d\u5efa hadoop \u73af\u5883"},{"location":"big-data/set-up-hadoop/#brew-install-hadoop","text":"\u4f7f\u7528 Homebrew \u6765\u8fdb\u884c\u4e00\u952e\u5b89\u88c5\u3002\u6ce8\u610f\u5b83\u4f1a\u4f9d\u8d56\u4e8e openjdk\uff0c\u4f46\u662f brew \u4f1a\u9ed8\u8ba4\u5b89\u88c5\u6700\u65b0\u7248\u672c\uff0c\u800c\u53c2\u8003 \u63a8\u8350\u7248\u672c \uff0c\u6700\u5408\u9002\u7684\u662f java 8\uff0c\u6240\u4ee5\u8bf7\u5b89\u88c5 openjdk8 \u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5982\u679c\u4f60\u9700\u8981\u8ba9\u7cfb\u7edf\u8bc6\u522b\u5b89\u88c5\u7684 jdk\uff0c\u8bf7\u8fd0\u884c\uff1a sudo ln -sfn $( brew --prefix ) /opt/openjdk@8/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-8.jdk \u8fd9\u4f1a\u5728 JavaVirtualMachines \u76ee\u5f55\u4e0b\u521b\u5efa\u8f6f\u94fe\u63a5\u5230\u4f60\u7684 jdk \u4e0b\uff0c\u7136\u540e\u4f60\u7684 IDEA \u5c31\u53ef\u4ee5\u8bc6\u522b\u5230\u8fd9\u4e2a jdk \u4e86\u3002\u800c\u53ea\u662f\u914d\u7f6e\u73af\u5883\u7684\u8bdd\uff0c\u6211\u4eec\u73af\u5883\u53d8\u91cf\u91cc\u9762\u8bbe\u7f6e\u4e00\u4e0b JAVA_HOME \u5373\u53ef export JAVA_HOME = \"/Library/Java/JavaVirtualMachines/openjdk-8.jdk/Contents/Home\" \u53e6\u5916\u5fc5\u987b\u6709 ssh \u7684\u73af\u5883\uff0cmacOS \u4e00\u822c\u9ed8\u8ba4\u81ea\u5e26\uff0c\u9700\u8981\u5728\u8bbe\u7f6e\u9009\u9879 Sharing \u4e2d\u5f00\u542f\u5141\u8bb8\u8fdc\u7a0b\u767b\u5f55\u3002\u4ee5\u53ca\u5b89\u88c5 pdsh \u6765\u66f4\u597d\u7684\u7ba1\u7406 ssh \u7684\u8d44\u6e90\u3002","title":"brew install hadoop"},{"location":"big-data/set-up-hadoop/#\u521d\u59cb\u5316\u8bbe\u7f6e","text":"\u5bf9\u4e8e brew \uff0cHadoop \u7684\u5b89\u88c5\u76ee\u5f55\u662f usr/local/Cellar/hadoop/<version>/libexec/etc/hadoop","title":"\u521d\u59cb\u5316\u8bbe\u7f6e"},{"location":"big-data/set-up-hadoop/#\u8bbe\u7f6e-java_home","text":"\u53c2\u8003 hadoop-env.sh \u6587\u4ef6\uff0c\u5728 macOS \u4e0a\u6211\u4eec\u4e0d\u9700\u8981\u8bbe\u7f6e\u6b64\u9879\u3002 The java implementation to use. By default, this environment variable is REQUIRED on ALL platforms except OS X!","title":"\u8bbe\u7f6e JAVA_HOME"},{"location":"big-data/set-up-hadoop/#\u5176\u5b83","text":"\u53c2\u8003 \u5b98\u65b9\u6587\u6863 \u4fee\u6539 core-site.xml \u548c hdfs-site.xml \uff0c\u8bbe\u7f6e ssh \u514d\u5bc6\u8fde\u63a5\u3002\u521d\u59cb\u5316\u683c\u5f0f\u6587\u4ef6\u7cfb\u7edf\uff1a hdfs namenode -format","title":"\u5176\u5b83"},{"location":"big-data/set-up-hadoop/#\u8bbe\u7f6e\u5feb\u6377\u6307\u4ee4","text":"\u4eff\u7167\u5982\u4e0b\u6765\u8bbe\u7f6e\u542f\u52a8\u548c\u5173\u95ed Hadoop \u7684\u5feb\u6377\u6307\u4ee4\uff0c\u6dfb\u52a0\u5230\u4f60\u7684\u73af\u5883\u53d8\u91cf\u4e2d\u3002 alias hstart = \"/usr/local/Cellar/hadoop/3.3.1/sbin/start-dfs.sh\" alias hstop = \"/usr/local/Cellar/hadoop/3.3.1/sbin/stop-dfs.sh\"","title":"\u8bbe\u7f6e\u5feb\u6377\u6307\u4ee4"},{"location":"big-data/set-up-hadoop/#\u8b66\u544a\u6d88\u9664\u53ef\u9009","text":"\u542f\u52a8\u5b8c\u6210\u4e4b\u540e\u4f60\u5927\u6982\u4f1a\u770b\u5230\u5982\u4e0b\u7684\u8b66\u544a\u63d0\u793a\uff1a 2021-09-18 16:22:19,280 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable \u5b83\u5e76\u4e0d\u5f71\u54cd\u6b63\u5e38\u5de5\u4f5c\uff0c\u6d88\u9664\u8b66\u544a\u9700\u8981\u81ea\u5df1\u5728 macOS \u4e0a\u7f16\u8bd1\u6e90\u7801\uff0c\u53c2\u8003 \u95ee\u9898\u5b9a\u4f4d \u548c Build Hadoop source code on macOS \u3002\u6211\u5c31\u4e0d\u7f16\u8bd1\u4e86\uff0c\u6d88\u9664\u5f3a\u8feb\u75c7\u7684\u65b9\u6cd5\u662f\u89e3\u51b3\u7684\u65b9\u6cd5\u66f4\u52a0\u9ebb\u70e6\u3002","title":"\u8b66\u544a\u6d88\u9664\uff08\u53ef\u9009\uff09"},{"location":"big-data/set-up-hadoop/#\u5176\u5b83\u53ef\u80fd\u51fa\u73b0\u7684\u9519\u8bef","text":"Hadoop cluster setup - java.net.ConnectException: Connection refused \u53c2\u8003 stackoverflow \uff0c\u6211\u4eec\u9700\u8981\u5148\u5173\u95ed\uff0c\u7136\u540e\u91cd\u65b0\u683c\u5f0f\u5316 namenode\u3002","title":"\u5176\u5b83\u53ef\u80fd\u51fa\u73b0\u7684\u9519\u8bef"},{"location":"big-data/set-up-hadoop/#\u603b\u7ed3","text":"\u5982\u6b64\u4e00\u4e2a\u53ef\u7528\u7684 hdfs \u5c31\u642d\u5efa\u5b8c\u6210\u4e86\uff0c\u4f7f\u7528 hstart \u542f\u52a8\u4e4b\u540e\u53ef\u4ee5\u8bbf\u95ee http://localhost:9870/ \u6765\u67e5\u770b\u6548\u679c\uff0c\u603b\u4f53\u4e0a\u6bd4\u5728 Linux \u4e0a\u8fd8\u662f\u65b9\u4fbf\u4e0d\u5c11\u3002\u5173\u4e8e\u66f4\u591a\u8bbe\u7f6e\u548c\u4f7f\u7528\uff0c\u8bf7\u770b\u5b98\u65b9\u6587\u6863","title":"\u603b\u7ed3"},{"location":"big-data/set-up-hive/","text":"hive \u8bbe\u7f6e \u57fa\u672c\u7684\u5b89\u88c5\u8fd8\u662f\u4f7f\u7528 brew \u6765\u8fdb\u884c\uff0c\u4e3b\u8981\u4ecb\u7ecd\u540e\u7eed\u7684\u8bbe\u7f6e\u3002 \u521b\u5efa\u6587\u4ef6\u5939 \u53c2\u8003 \u5b98\u65b9\u8d77\u59cb\u6587\u6863 \uff0c\u6211\u4eec\u9700\u8981\u521b\u5efa\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u5e76\u8d4b\u4e88\u6743\u9650\u3002 hadoop fs -mkdir /tmp hadoop fs -mkdir /user/hive/warehouse hadoop fs -chmod g+w /tmp hadoop fs -chmod g+w /user/hive/warehouse \u4f46\u662f\u7ecf\u8fc7\u6211\u7684\u5c1d\u8bd5\uff0c\u53ef\u80fd\u9700\u8981\u8fdb\u884c\u5982\u4e0b\u7684\u6743\u9650\u8bbe\u7f6e\uff0c\u5426\u5219\u5728\u540e\u7eed\u8fdb\u884c\u6570\u636e\u5e93\u64cd\u4f5c\u65f6\u4f1a\u51fa\u73b0 Permission denied \u3002 hadoop fs -chmod -R 777 /user/hive hadoop fs -chmod 777 /tmp \u53c2\u8003 Permission Denied error while creating database in hive \u8bbe\u7f6e mysql \u548c hive \u914d\u5408 \u521b\u5efa\u6570\u636e\u5e93 \u9996\u5148\u9700\u8981\u5b89\u88c5\u597d mysql\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8d58\u8ff0\u4e86\uff0c\u6ce8\u610f\u8fdb\u884c\u8bbe\u7f6e\u4e4b\u524d\u5148\u542f\u52a8\u670d\u52a1\u3002\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u4f9b hive \u4f7f\u7528\uff0c\u5e76\u8d4b\u4e88 hive \u7528\u6237\u5bf9\u5e94\u7684\u6743\u9650\u3002 CREATE DATABASE metastore ; USE metastore ; CREATE USER 'hive' @ 'localhost' IDENTIFIED BY 'hive' ; GRANT ALL ON metastore . * TO 'hive' @ 'localhost' ; \u4e0b\u8f7d\u9a71\u52a8 \u524d\u5f80 MySQL Community Downloads \uff0c\u9009\u62e9 Platform Independent\uff0c\u4e0b\u8f7d\u538b\u7f29\u5305\uff0c\u89e3\u538b\u51fa jar \u6587\u4ef6\uff0c\u590d\u5236\u5230 /usr/local/Cellar/hive/3.1.2_3/libexec/lib \u6587\u4ef6\u5939\u4e0b\u3002 \u914d\u7f6e hive-site.xml \u4e3b\u8981\u662f\u8bbe\u7f6e\u6570\u636e\u5e93\u7684\u8fde\u63a5\uff0c\u6ce8\u610f\u9a71\u52a8\u9009\u62e9 com.mysql.cj.jdbc.Driver \u3002 Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?> <?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?> <configuration> <property> <name> javax.jdo.option.ConnectionURL </name> <value> jdbc:mysql://localhost/metastore </value> </property> <property> <name> javax.jdo.option.ConnectionDriverName </name> <value> com.mysql.cj.jdbc.Driver </value> </property> <property> <name> javax.jdo.option.ConnectionUserName </name> <value> hive </value> </property> <property> <name> javax.jdo.option.ConnectionPassword </name> <value> hive </value> </property> </configuration> \u8bbe\u7f6e Hadoop \u7684 core-site.xml \u53c2\u8003 \u542f\u52a8 hiveserver2 \u670d\u52a1\u540e\u4f7f\u7528 beeline \u62a5\u9519 Could not open client transport with JDBC Uri: jdbc:hive2://localhost:100 \u6211\u4eec\u9700\u8981\u5bf9\u4e8e\u8bbf\u95ee\u7684\u7528\u6237\u8fdb\u884c\u6743\u9650\u8bbe\u7f6e\uff0c\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u5982\u4e0b\u7684\u90e8\u5206\uff08\u6ce8\u610f root \u6362\u6210\u4f60\u5f53\u524d\u7684\u7528\u6237\u540d\uff09 <property> <name> hadoop.proxyuser.root.hosts </name> <value> * </value> </property> <property> <name> hadoop.proxyuser.root.groups </name> <value> * </value> </property> \u542f\u52a8 schematool -dbType mysql -initSchema hiveserver2 beeline -u jdbc:hive2://localhost:10000 \u8bf7\u7b49\u5230 hiveserver2 \u542f\u52a8\u540e\u65e5\u5fd7\u663e\u793a 4 \u884c Hive Session ID \uff0c\u518d\u901a\u8fc7 beeline \u8fdb\u884c\u8fde\u63a5\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u51fa\u73b0\u5982\u4e0b\u7684\u9519\u8bef\uff1a 21/09/19 12:24:23 [main]: WARN jdbc.HiveConnection: Failed to connect to localhost:10000 Could not open connection to the HS2 server. Please check the server URI and if the URI is correct, then ask the administrator to check the server status. Error: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:10000: java.net.ConnectException: Connection refused (Connection refused) (state=08S01,code=0) \u9000\u51fa \u8bf7\u4f7f\u7528 ctrl + c \u8fdb\u884c\u9000\u51fa\uff0cexit \u548c quit \u90fd\u662f\u65e0\u6548\u7684\u3002","title":"Setup"},{"location":"big-data/set-up-hive/#hive-\u8bbe\u7f6e","text":"\u57fa\u672c\u7684\u5b89\u88c5\u8fd8\u662f\u4f7f\u7528 brew \u6765\u8fdb\u884c\uff0c\u4e3b\u8981\u4ecb\u7ecd\u540e\u7eed\u7684\u8bbe\u7f6e\u3002","title":"hive \u8bbe\u7f6e"},{"location":"big-data/set-up-hive/#\u521b\u5efa\u6587\u4ef6\u5939","text":"\u53c2\u8003 \u5b98\u65b9\u8d77\u59cb\u6587\u6863 \uff0c\u6211\u4eec\u9700\u8981\u521b\u5efa\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u5e76\u8d4b\u4e88\u6743\u9650\u3002 hadoop fs -mkdir /tmp hadoop fs -mkdir /user/hive/warehouse hadoop fs -chmod g+w /tmp hadoop fs -chmod g+w /user/hive/warehouse \u4f46\u662f\u7ecf\u8fc7\u6211\u7684\u5c1d\u8bd5\uff0c\u53ef\u80fd\u9700\u8981\u8fdb\u884c\u5982\u4e0b\u7684\u6743\u9650\u8bbe\u7f6e\uff0c\u5426\u5219\u5728\u540e\u7eed\u8fdb\u884c\u6570\u636e\u5e93\u64cd\u4f5c\u65f6\u4f1a\u51fa\u73b0 Permission denied \u3002 hadoop fs -chmod -R 777 /user/hive hadoop fs -chmod 777 /tmp \u53c2\u8003 Permission Denied error while creating database in hive","title":"\u521b\u5efa\u6587\u4ef6\u5939"},{"location":"big-data/set-up-hive/#\u8bbe\u7f6e-mysql-\u548c-hive-\u914d\u5408","text":"","title":"\u8bbe\u7f6e mysql \u548c hive \u914d\u5408"},{"location":"big-data/set-up-hive/#\u521b\u5efa\u6570\u636e\u5e93","text":"\u9996\u5148\u9700\u8981\u5b89\u88c5\u597d mysql\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8d58\u8ff0\u4e86\uff0c\u6ce8\u610f\u8fdb\u884c\u8bbe\u7f6e\u4e4b\u524d\u5148\u542f\u52a8\u670d\u52a1\u3002\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u4f9b hive \u4f7f\u7528\uff0c\u5e76\u8d4b\u4e88 hive \u7528\u6237\u5bf9\u5e94\u7684\u6743\u9650\u3002 CREATE DATABASE metastore ; USE metastore ; CREATE USER 'hive' @ 'localhost' IDENTIFIED BY 'hive' ; GRANT ALL ON metastore . * TO 'hive' @ 'localhost' ;","title":"\u521b\u5efa\u6570\u636e\u5e93"},{"location":"big-data/set-up-hive/#\u4e0b\u8f7d\u9a71\u52a8","text":"\u524d\u5f80 MySQL Community Downloads \uff0c\u9009\u62e9 Platform Independent\uff0c\u4e0b\u8f7d\u538b\u7f29\u5305\uff0c\u89e3\u538b\u51fa jar \u6587\u4ef6\uff0c\u590d\u5236\u5230 /usr/local/Cellar/hive/3.1.2_3/libexec/lib \u6587\u4ef6\u5939\u4e0b\u3002","title":"\u4e0b\u8f7d\u9a71\u52a8"},{"location":"big-data/set-up-hive/#\u914d\u7f6e-hive-sitexml","text":"\u4e3b\u8981\u662f\u8bbe\u7f6e\u6570\u636e\u5e93\u7684\u8fde\u63a5\uff0c\u6ce8\u610f\u9a71\u52a8\u9009\u62e9 com.mysql.cj.jdbc.Driver \u3002 Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?> <?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?> <configuration> <property> <name> javax.jdo.option.ConnectionURL </name> <value> jdbc:mysql://localhost/metastore </value> </property> <property> <name> javax.jdo.option.ConnectionDriverName </name> <value> com.mysql.cj.jdbc.Driver </value> </property> <property> <name> javax.jdo.option.ConnectionUserName </name> <value> hive </value> </property> <property> <name> javax.jdo.option.ConnectionPassword </name> <value> hive </value> </property> </configuration>","title":"\u914d\u7f6e hive-site.xml"},{"location":"big-data/set-up-hive/#\u8bbe\u7f6e-hadoop-\u7684-core-sitexml","text":"\u53c2\u8003 \u542f\u52a8 hiveserver2 \u670d\u52a1\u540e\u4f7f\u7528 beeline \u62a5\u9519 Could not open client transport with JDBC Uri: jdbc:hive2://localhost:100 \u6211\u4eec\u9700\u8981\u5bf9\u4e8e\u8bbf\u95ee\u7684\u7528\u6237\u8fdb\u884c\u6743\u9650\u8bbe\u7f6e\uff0c\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u5982\u4e0b\u7684\u90e8\u5206\uff08\u6ce8\u610f root \u6362\u6210\u4f60\u5f53\u524d\u7684\u7528\u6237\u540d\uff09 <property> <name> hadoop.proxyuser.root.hosts </name> <value> * </value> </property> <property> <name> hadoop.proxyuser.root.groups </name> <value> * </value> </property>","title":"\u8bbe\u7f6e Hadoop \u7684 core-site.xml"},{"location":"big-data/set-up-hive/#\u542f\u52a8","text":"schematool -dbType mysql -initSchema hiveserver2 beeline -u jdbc:hive2://localhost:10000 \u8bf7\u7b49\u5230 hiveserver2 \u542f\u52a8\u540e\u65e5\u5fd7\u663e\u793a 4 \u884c Hive Session ID \uff0c\u518d\u901a\u8fc7 beeline \u8fdb\u884c\u8fde\u63a5\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u51fa\u73b0\u5982\u4e0b\u7684\u9519\u8bef\uff1a 21/09/19 12:24:23 [main]: WARN jdbc.HiveConnection: Failed to connect to localhost:10000 Could not open connection to the HS2 server. Please check the server URI and if the URI is correct, then ask the administrator to check the server status. Error: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:10000: java.net.ConnectException: Connection refused (Connection refused) (state=08S01,code=0)","title":"\u542f\u52a8"},{"location":"big-data/set-up-hive/#\u9000\u51fa","text":"\u8bf7\u4f7f\u7528 ctrl + c \u8fdb\u884c\u9000\u51fa\uff0cexit \u548c quit \u90fd\u662f\u65e0\u6548\u7684\u3002","title":"\u9000\u51fa"}]}